
/*
========================================================================================
  Nextflow config file
========================================================================================
    Default config options for all compute environments
----------------------------------------------------------------------------------------
*/

// Global default params, used in configs
params {

    // Boilerplate options
    outdir                     = './results'
    tracedir                   = "${params.outdir}/pipeline_info"
    publish_dir_mode           = 'copy'
    
    // Max requirements
    max_memory                 = '128.GB'
    max_cpus                   = 16
    max_time                   = '240.h'
} 

profiles {
    farm22 {
        process.executor = 'lsf'
        docker {
        enabled = false
        }
        executor {
            name = 'lsf'
            perJobMemLimit = true
            poolSize = 4
            submitRateLimit = '5 sec'
            killBatchSize = 50
            queue = 'normal'
        }
        process {
        withName: RUN_KRAKEN2 { 
            memory = 230.GB
            cpus = 8
            }
        withName: KRAKEN_TOOLS { 
            memory = 10.GB
            cpus = 4
            }
        }


        }
}



